# 猫咪救助系统 - 使用说明

## 系统架构

本系统现在包含三个独立的服务：

1. **后端服务** (端口 8080) - Spring Boot API
2. **用户前端** (端口 5000) - 普通用户界面
3. **管理后台** (端口 5001) - 管理员专用界面 ⭐新增

## 快速启动

### 方式一：完整启动（推荐）

双击运行 `完整启动.bat`，会自动启动所有服务并打开浏览器。

### 方式二：分别启动

1. 双击 `一键启动.bat` - 启动后端和用户前端
2. 进入 `admin-frontend` 文件夹，双击 `启动管理后台.bat`

## 访问地址

| 服务 | 地址 | 说明 |
|------|------|------|
| 用户前端 | http://localhost:5000 | 普通用户使用 |
| **管理后台** | **http://localhost:5001** | **管理员专用** ⭐ |
| 后端API | http://localhost:8080/api | API接口 |

## 账号信息

### 管理员账号（用于管理后台）

- **用户名**: admin
- **密码**: 123456
- **角色**: 超级管理员

### 普通用户账号（用于用户前端）

- **用户名**: zhangsan
- **密码**: 123456
- **角色**: 普通用户

## 管理后台功能

✅ 独立的管理员界面，不影响用户前端
✅ 实时统计数据展示
✅ 用户、猫咪、社区动态统计
✅ 财务概览
✅ 身份认证申请管理
✅ 自动权限验证（只有管理员可登录）

## 停止服务

双击运行 `停止服务.bat`，会停止所有服务（包括管理后台）。

## 常见问题

### Q: 管理后台无法访问？

1. 确保后端服务（8080端口）已启动
2. 检查管理后台服务（5001端口）是否运行
3. 使用管理员账号登录（admin/123456）

### Q: 登录后显示"您没有管理员权限"？

只有角色为 ADMIN 或 SUPER_ADMIN 的用户才能登录管理后台。
普通用户请访问 http://localhost:5000

### Q: 显示"网络错误"？

检查后端服务是否正常运行：
- 访问 http://localhost:8080/api/health
- 查看 backend/backend.log 日志文件

### Q: 数据不显示？

1. 检查浏览器控制台是否有错误
2. 确认后端API正常响应
3. 检查token是否过期（会自动跳转到登录页）

## 技术说明

### 管理后台技术栈

- 纯HTML/CSS/JavaScript
- 无需构建工具
- 直接调用后端API
- Token存储在localStorage
- 自动权限验证

### 与用户前端的区别

| 特性 | 用户前端 | 管理后台 |
|------|---------|---------|
| 框架 | Vue 3 | 原生JS |
| 端口 | 5000 | 5001 |
| 用户 | 所有用户 | 仅管理员 |
| 功能 | 浏览、领养、社区 | 统计、管理、审核 |

## 文件结构

```
deploy/
├── backend/                  # 后端服务
├── frontend/                 # 用户前端
├── admin-frontend/          # 管理后台 ⭐新增
│   ├── login.html          # 登录页面
│   ├── dashboard.html      # 管理后台主页
│   ├── server.js           # Node.js服务器
│   ├── 启动管理后台.bat    # 启动脚本
│   └── README.md           # 说明文档
├── 完整启动.bat             # 启动所有服务 ⭐新增
├── 一键启动.bat             # 启动后端和用户前端
└── 停止服务.bat             # 停止所有服务（已更新）
```

## 更新日志

### 2026-02-06

- ✅ 新增独立的管理后台（端口5001）
- ✅ 修复管理后台API路径问题
- ✅ 创建完整启动脚本
- ✅ 更新停止服务脚本
- ✅ 完善文档说明

---

如有问题，请查看各服务的日志文件：
- backend/backend.log
- frontend/frontend.log
- admin-frontend/admin.log
