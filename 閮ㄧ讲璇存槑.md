# 校园流浪猫档案管理与服务系统 - Windows 部署指南

## 一、环境要求

| 软件 | 版本要求 | 下载地址 |
|------|----------|----------|
| JDK | 17 或更高 | https://adoptium.net/ |
| MySQL | 8.0 或更高 | https://dev.mysql.com/downloads/mysql/ |

## 二、安装步骤

### 步骤1：安装 JDK 17

1. 下载 JDK 17：https://adoptium.net/
2. 运行安装程序，一路下一步
3. 验证安装：打开命令提示符，输入 `java -version`，应显示版本号

### 步骤2：安装 MySQL 8.0

1. 下载 MySQL：https://dev.mysql.com/downloads/mysql/
2. 选择 "MySQL Installer for Windows"
3. 安装时选择 "Developer Default" 或 "Server only"
4. 设置 root 密码（记住这个密码！）
5. 完成安装

### 步骤3：初始化数据库

1. 双击运行 `init-db.bat`
2. 输入 MySQL 用户名（默认 root）
3. 输入 MySQL 密码
4. 等待数据库创建完成

### 步骤4：启动系统

1. 双击运行 `start.bat`
2. 等待系统启动（约15秒）
3. 浏览器会自动打开系统首页

## 三、访问地址

| 功能 | 地址 |
|------|------|
| 系统首页 | http://localhost:8080 |
| API文档 | http://localhost:8080/doc.html |

## 四、默认账号

| 角色 | 用户名 | 密码 |
|------|--------|------|
| 超级管理员 | admin | 123456 |
| 普通用户 | zhangsan | 123456 |

## 五、目录结构

```
deploy/
├── backend/                 # 后端程序
│   ├── cat-rescue.jar      # 后端 JAR 包
│   └── application-prod.yml # 生产环境配置
├── frontend/               # 前端静态文件
│   ├── index.html
│   └── assets/
├── uploads/                # 上传文件目录
│   └── cats/              # 猫咪图片
├── cat_rescue.sql         # 数据库脚本
├── start.bat              # 启动脚本
├── stop.bat               # 停止脚本
├── init-db.bat            # 数据库初始化脚本
└── 部署说明.md            # 本文档
```

## 六、配置修改

### 修改数据库密码

编辑 `backend/application-prod.yml`：

```yaml
spring:
  datasource:
    password: 你的MySQL密码
```

### 修改端口号

编辑 `backend/application-prod.yml`，添加：

```yaml
server:
  port: 9090  # 改为你想要的端口
```

## 七、常见问题

### Q1: 提示"未检测到 Java 环境"
**解决**：安装 JDK 17，并确保添加到系统 PATH

### Q2: 数据库连接失败
**解决**：
1. 确保 MySQL 服务已启动
2. 检查用户名密码是否正确
3. 检查数据库 cat_rescue 是否已创建

### Q3: 端口被占用
**解决**：
1. 关闭占用 8080 端口的程序
2. 或修改配置文件更换端口

### Q4: 图片无法显示
**解决**：确保 uploads 目录存在且有图片文件

## 八、停止系统

双击运行 `stop.bat` 即可停止服务

## 九、技术支持

如有问题，请联系开发者。

---
*校园流浪猫档案管理与服务系统 v1.0*
