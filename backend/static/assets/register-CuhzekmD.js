import{r as I}from"./index-CjZhQ3nS.js";/* empty css                     *//* empty css                *//* empty css                 */import{r as g,l as P,z as b,B as n,aD as F,R as o,J as a,aA as q,A as B,u as i,O as m}from"./vue-vendor-L7KxampG.js";import{k as C,q as R,t as U,r as k,u as z,w as N,x as _,A,B as $,C as L,e as T,z as D,E as v}from"./element-plus-B9MrEl8w.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-DtAJ10D1.js";const M={class:"register-container"},O={class:"register-box"},S={class:"register-header"},j={class:"logo"},G={class:"login-link"},H={__name:"register",setup(K){const f=q(),c=g(null),p=g(!1),r=P({username:"",password:"",confirmPassword:"",studentId:"",phone:"",email:""}),w={username:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"},{min:3,max:20,message:"ç”¨æˆ·åé•¿åº¦åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,max:20,message:"å¯†ç é•¿åº¦åœ¨ 6 åˆ° 20 ä¸ªå­—ç¬¦",trigger:"blur"}],confirmPassword:[{required:!0,validator:(u,e,s)=>{e===""?s(new Error("è¯·å†æ¬¡è¾“å…¥å¯†ç ")):e!==r.password?s(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):s()},trigger:"blur"}],phone:[{required:!0,validator:(u,e,s)=>{e===""?s(new Error("è¯·è¾“å…¥æ‰‹æœºå·")):/^1[3-9]\d{9}$/.test(e)?s():s(new Error("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·"))},trigger:"blur"}],email:[{required:!0,validator:(u,e,s)=>{e===""?s(new Error("è¯·è¾“å…¥é‚®ç®±")):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?s():s(new Error("è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±"))},trigger:"blur"}]},V=async()=>{if(await c.value.validate().catch(()=>!1)){p.value=!0;try{(await I({username:r.username,password:r.password,studentId:r.studentId||void 0,phone:r.phone,email:r.email})).code===200&&(v.success("æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•"),f.push("/login"))}catch(e){v.error(e.message||"æ³¨å†Œå¤±è´¥")}finally{p.value=!1}}},x=()=>{f.push("/login")};return(u,e)=>{const s=C,d=z,l=k,E=T,y=D,h=R;return B(),b("div",M,[n("div",O,[n("div",S,[n("div",j,[o(s,{size:60,color:"#409EFF"},{default:a(()=>[o(i(U))]),_:1})]),e[6]||(e[6]=n("h2",null,"ç”¨æˆ·æ³¨å†Œ",-1)),e[7]||(e[7]=n("p",null,"åŠ å…¥æˆ‘ä»¬ï¼Œä¸€èµ·å®ˆæŠ¤æµæµªçŒ«",-1))]),o(h,{ref_key:"registerFormRef",ref:c,model:r,rules:w,class:"register-form",size:"large"},{default:a(()=>[o(l,{prop:"username"},{default:a(()=>[o(d,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å","prefix-icon":i(N),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,{prop:"password"},{default:a(()=>[o(d,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","prefix-icon":i(_),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,{prop:"confirmPassword"},{default:a(()=>[o(d,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>r.confirmPassword=t),type:"password",placeholder:"è¯·ç¡®è®¤å¯†ç ","prefix-icon":i(_),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,{prop:"studentId"},{default:a(()=>[o(d,{modelValue:r.studentId,"onUpdate:modelValue":e[3]||(e[3]=t=>r.studentId=t),placeholder:"è¯·è¾“å…¥å­¦å·/å·¥å·ï¼ˆå¯é€‰ï¼‰","prefix-icon":i(A),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,{prop:"phone"},{default:a(()=>[o(d,{modelValue:r.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>r.phone=t),placeholder:"è¯·è¾“å…¥æ‰‹æœºå·","prefix-icon":i($),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,{prop:"email"},{default:a(()=>[o(d,{modelValue:r.email,"onUpdate:modelValue":e[5]||(e[5]=t=>r.email=t),placeholder:"è¯·è¾“å…¥é‚®ç®±","prefix-icon":i(L),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(l,null,{default:a(()=>[o(E,{type:"primary",style:{width:"100%"},loading:p.value,onClick:V},{default:a(()=>[...e[8]||(e[8]=[m(" æ³¨ å†Œ ",-1)])]),_:1},8,["loading"])]),_:1}),o(l,null,{default:a(()=>[n("div",G,[e[10]||(e[10]=m(" å·²æœ‰è´¦å·ï¼Ÿ ",-1)),o(y,{type:"primary",onClick:x},{default:a(()=>[...e[9]||(e[9]=[m("ç«‹å³ç™»å½•",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),e[11]||(e[11]=F('<div class="register-bg" data-v-e7917c18><div class="cat-icon cat-1" data-v-e7917c18>ğŸ±</div><div class="cat-icon cat-2" data-v-e7917c18>ğŸˆ</div><div class="cat-icon cat-3" data-v-e7917c18>ğŸ˜º</div><div class="cat-icon cat-4" data-v-e7917c18>ğŸ˜¸</div></div>',1))])}}},le=J(H,[["__scopeId","data-v-e7917c18"]]);export{le as default};
