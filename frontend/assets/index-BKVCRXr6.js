import"./index-CjZhQ3nS.js";/* empty css               *//* empty css                        */import{aA as z,r as b,c as E,z as u,A as o,B as a,R as e,J as c,u as f,E as L,P as l,W as _,I as h,M,L as k,O as n,Q as w,a6 as N}from"./vue-vendor-L7KxampG.js";import{k as P,ab as T,Q as I,m as R,S,e as V,E as j}from"./element-plus-B9MrEl8w.js";import{u as F,l as Q}from"./cat-BNSW1wqJ.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"cat-image"},J={class:"image-placeholder"},W={class:"image-error"},G={class:"cat-info"},H={class:"cat-name text-ellipsis"},K={class:"cat-meta"},U={key:0,class:"cat-tags"},X={key:1,class:"cat-desc text-ellipsis-2"},Y={class:"cat-footer flex-between"},Z={class:"view-count"},tt={__name:"index",props:{cat:{type:Object,required:!0}},setup(t){const s=t,p=z(),i=b(!1),A=E(()=>({ADOPTABLE:"status-adoptable",ADOPTED:"status-adopted",TREATMENT:"status-treatment",OBSERVATION:"status-observation"})[s.cat.status]||""),C=E(()=>({ADOPTABLE:"可领养",ADOPTED:"已领养",TREATMENT:"治疗中",OBSERVATION:"观察中"})[s.cat.status]||"未知"),y=()=>{p.push(`/cats/${s.cat.id}`)},B=()=>{s.cat.status==="ADOPTABLE"&&p.push(`/adoption/apply/${s.cat.id}`)},O=async()=>{try{i.value?(await F(s.cat.id),i.value=!1,s.cat.likeCount>0&&s.cat.likeCount--):(await Q(s.cat.id),i.value=!0,s.cat.likeCount=(s.cat.likeCount||0)+1)}catch{j.error("操作失败")}};return(m,v)=>{const r=P,x=I,d=R,D=V;return o(),u("div",{class:"cat-card",onClick:y},[a("div",q,[e(x,{src:t.cat.coverImage||"/placeholder-cat.jpg",fit:"cover",alt:t.cat.name,lazy:""},{placeholder:c(()=>[a("div",J,[e(r,{size:40},{default:c(()=>[e(f(T))]),_:1})])]),error:c(()=>[a("div",W,[e(r,{size:40},{default:c(()=>[e(f(T))]),_:1}),v[0]||(v[0]=a("p",null,"暂无图片",-1))])]),_:1},8,["src","alt"]),a("div",{class:L(["status-tag",A.value])},l(C.value),3),a("div",{class:"like-btn",onClick:_(O,["stop"])},[e(r,{size:20,color:i.value?"#f56c6c":"#fff"},{default:c(()=>[(o(),h(M(i.value?"StarFilled":"Star")))]),_:1},8,["color"]),a("span",null,l(t.cat.likeCount||0),1)])]),a("div",G,[a("h3",H,l(t.cat.name),1),a("div",K,[e(d,{size:"small",type:"info"},{default:c(()=>[n(l(t.cat.breed||"中华田园猫"),1)]),_:1}),e(d,{size:"small",type:t.cat.gender===1?"primary":"danger"},{default:c(()=>[n(l(t.cat.gender===1?"公":"母"),1)]),_:1},8,["type"]),e(d,{size:"small"},{default:c(()=>[n(l(t.cat.age||"未知"),1)]),_:1})]),t.cat.tags&&t.cat.tags.length?(o(),u("div",U,[(o(!0),u(w,null,N(t.cat.tags.slice(0,3),g=>(o(),h(d,{key:g,size:"small",effect:"plain"},{default:c(()=>[n(l(g),1)]),_:2},1024))),128))])):k("",!0),t.cat.description?(o(),u("p",X,l(t.cat.description),1)):k("",!0),a("div",Y,[a("div",Z,[e(r,null,{default:c(()=>[e(f(S))]),_:1}),a("span",null,l(t.cat.viewCount||0),1)]),e(D,{type:"primary",size:"small",disabled:t.cat.status!=="ADOPTABLE",onClick:_(B,["stop"])},{default:c(()=>[n(l(t.cat.status==="ADOPTABLE"?"申请领养":"暂不可领养"),1)]),_:1},8,["disabled"])])])])}}},nt=$(tt,[["__scopeId","data-v-0fe7e6ea"]]);export{nt as C};
