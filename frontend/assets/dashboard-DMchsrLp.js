import{s as h}from"./index-k_aWam8k.js";/* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                 *//* empty css                    *//* empty css               *//* empty css                */import{G as T,N as A,O as G,k as O,aw as k,w as z,ae as L,p as V,aC as x,a0 as B,m as J,aD as $,aE as M}from"./element-plus-o-j_G_-z.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as N,j as U,z as q,R as t,J as e,A as F,B as a,u as f,P as l,O as p}from"./vue-vendor-L7KxampG.js";import"./utils-CCXpdI6d.js";const H={class:"dashboard"},K={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea, #764ba2)"}},Q={class:"stat-info"},W={class:"stat-value"},X={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb, #f5576c)"}},Y={class:"stat-info"},Z={class:"stat-value"},tt={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe, #00f2fe)"}},st={class:"stat-info"},et={class:"stat-value"},at={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b, #38f9d7)"}},nt={class:"stat-info"},ot={class:"stat-value"},lt={class:"status-list"},dt={class:"status-item"},ut={class:"count"},it={class:"status-item"},rt={class:"count"},ct={class:"status-item"},pt={class:"count"},_t={class:"status-item"},vt={class:"count"},mt={class:"pending-list"},ft={class:"pending-item"},gt={__name:"dashboard",setup(Et){const n=N({}),g=N([]),E=N([]),_=o=>{const s=n.value.catCount||1;return Math.round((o||0)/s*100)},R=o=>({PENDING:"warning",APPROVED:"success",REJECTED:"danger",CANCELLED:"info"})[o]||"info",D=o=>({PENDING:"待审核",APPROVED:"已通过",REJECTED:"已拒绝",CANCELLED:"已取消"})[o]||o,w=o=>({PENDING:"danger",PROCESSING:"warning",RESOLVED:"success",CLOSED:"info"})[o]||"info",P=o=>({PENDING:"待处理",PROCESSING:"处理中",RESOLVED:"已解决",CLOSED:"已关闭"})[o]||o,S=async()=>{try{const o=await h.get("/admin/dashboard/stats");o.code===200&&(n.value=o.data)}catch{n.value={catCount:7,userCount:6,adoptionCount:4,dynamicCount:6,adoptableCount:4,adoptedCount:1,observationCount:1,treatmentCount:1,pendingAdoptions:2,pendingRescues:1,processingRescues:1}}},I=async()=>{try{const[o,s]=await Promise.all([h.get("/admin/dashboard/recent-adoptions"),h.get("/admin/dashboard/recent-rescues")]);g.value=o.data||[],E.value=s.data||[]}catch{g.value=[{catName:"橘子",userName:"王五",status:"PENDING",createTime:"2024-12-24"},{catName:"小黑",userName:"孙七",status:"PENDING",createTime:"2024-12-24"}],E.value=[{title:"食堂附近有猫咪需要帮助",type:"INJURED",status:"PROCESSING"},{title:"需要猫粮物资",type:"MATERIAL",status:"PENDING"}]}};return U(()=>{S(),I()}),(o,s)=>{const v=O,d=G,u=A,b=T,m=x,c=J,C=B,i=M,y=$;return F(),q("div",H,[t(b,{gutter:20,class:"stat-cards"},{default:e(()=>[t(u,{span:6},{default:e(()=>[t(d,{shadow:"hover",class:"stat-card"},{default:e(()=>[a("div",K,[t(v,{size:32},{default:e(()=>[t(f(k))]),_:1})]),a("div",Q,[a("div",W,l(n.value.catCount||0),1),s[2]||(s[2]=a("div",{class:"stat-label"},"猫咪总数",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(d,{shadow:"hover",class:"stat-card"},{default:e(()=>[a("div",X,[t(v,{size:32},{default:e(()=>[t(f(z))]),_:1})]),a("div",Y,[a("div",Z,l(n.value.userCount||0),1),s[3]||(s[3]=a("div",{class:"stat-label"},"注册用户",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(d,{shadow:"hover",class:"stat-card"},{default:e(()=>[a("div",tt,[t(v,{size:32},{default:e(()=>[t(f(L))]),_:1})]),a("div",st,[a("div",et,l(n.value.adoptionCount||0),1),s[4]||(s[4]=a("div",{class:"stat-label"},"领养申请",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(d,{shadow:"hover",class:"stat-card"},{default:e(()=>[a("div",at,[t(v,{size:32},{default:e(()=>[t(f(V))]),_:1})]),a("div",nt,[a("div",ot,l(n.value.dynamicCount||0),1),s[5]||(s[5]=a("div",{class:"stat-label"},"社区动态",-1))])]),_:1})]),_:1})]),_:1}),t(b,{gutter:20,class:"detail-section"},{default:e(()=>[t(u,{span:12},{default:e(()=>[t(d,null,{header:e(()=>[...s[6]||(s[6]=[a("div",{class:"card-header"},[a("span",null,"猫咪状态分布")],-1)])]),default:e(()=>[a("div",lt,[a("div",dt,[s[7]||(s[7]=a("span",{class:"label"},"可领养",-1)),t(m,{percentage:_(n.value.adoptableCount),status:"success"},null,8,["percentage"]),a("span",ut,l(n.value.adoptableCount||0),1)]),a("div",it,[s[8]||(s[8]=a("span",{class:"label"},"已领养",-1)),t(m,{percentage:_(n.value.adoptedCount)},null,8,["percentage"]),a("span",rt,l(n.value.adoptedCount||0),1)]),a("div",ct,[s[9]||(s[9]=a("span",{class:"label"},"观察中",-1)),t(m,{percentage:_(n.value.observationCount),status:"warning"},null,8,["percentage"]),a("span",pt,l(n.value.observationCount||0),1)]),a("div",_t,[s[10]||(s[10]=a("span",{class:"label"},"治疗中",-1)),t(m,{percentage:_(n.value.treatmentCount),status:"exception"},null,8,["percentage"]),a("span",vt,l(n.value.treatmentCount||0),1)])])]),_:1})]),_:1}),t(u,{span:12},{default:e(()=>[t(d,null,{header:e(()=>[...s[11]||(s[11]=[a("div",{class:"card-header"},[a("span",null,"待处理事项")],-1)])]),default:e(()=>[a("div",mt,[a("div",{class:"pending-item",onClick:s[0]||(s[0]=r=>o.$router.push("/admin/adoptions"))},[t(C,{value:n.value.pendingAdoptions,hidden:!n.value.pendingAdoptions},{default:e(()=>[t(c,{type:"warning"},{default:e(()=>[...s[12]||(s[12]=[p("待审核领养",-1)])]),_:1})]),_:1},8,["value","hidden"])]),a("div",{class:"pending-item",onClick:s[1]||(s[1]=r=>o.$router.push("/admin/rescues"))},[t(C,{value:n.value.pendingRescues,hidden:!n.value.pendingRescues},{default:e(()=>[t(c,{type:"danger"},{default:e(()=>[...s[13]||(s[13]=[p("待处理救助",-1)])]),_:1})]),_:1},8,["value","hidden"])]),a("div",ft,[t(C,{value:n.value.processingRescues,hidden:!n.value.processingRescues},{default:e(()=>[t(c,{type:"info"},{default:e(()=>[...s[14]||(s[14]=[p("处理中救助",-1)])]),_:1})]),_:1},8,["value","hidden"])])])]),_:1})]),_:1})]),_:1}),t(b,{gutter:20,class:"recent-section"},{default:e(()=>[t(u,{span:12},{default:e(()=>[t(d,null,{header:e(()=>[...s[15]||(s[15]=[a("span",null,"最新领养申请",-1)])]),default:e(()=>[t(y,{data:g.value,style:{width:"100%"},size:"small"},{default:e(()=>[t(i,{prop:"catName",label:"猫咪",width:"80"}),t(i,{prop:"userName",label:"申请人",width:"80"}),t(i,{prop:"status",label:"状态",width:"100"},{default:e(({row:r})=>[t(c,{type:R(r.status),size:"small"},{default:e(()=>[p(l(D(r.status)),1)]),_:2},1032,["type"])]),_:1}),t(i,{prop:"createTime",label:"时间"})]),_:1},8,["data"])]),_:1})]),_:1}),t(u,{span:12},{default:e(()=>[t(d,null,{header:e(()=>[...s[16]||(s[16]=[a("span",null,"最新救助信息",-1)])]),default:e(()=>[t(y,{data:E.value,style:{width:"100%"},size:"small"},{default:e(()=>[t(i,{prop:"title",label:"标题"}),t(i,{prop:"type",label:"类型",width:"80"}),t(i,{prop:"status",label:"状态",width:"100"},{default:e(({row:r})=>[t(c,{type:w(r.status),size:"small"},{default:e(()=>[p(l(P(r.status)),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})])}}},Gt=j(gt,[["__scopeId","data-v-d9b64541"]]);export{Gt as default};
